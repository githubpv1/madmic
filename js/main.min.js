function scrollMenu(e,t,n,i){var s,a=document.querySelector(e);if(t){var r=document.querySelector(t);s=r?r.clientHeight:0}else s=0;function o(e){window.setTimeout(e,1e3/60)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||o,function(e,t,n){function i(e){e.preventDefault(),s=r?r.clientHeight:0;var i=document.querySelector(this.hash);i&&function(e,t,n){var i=e||0;i+=2,t=t||2e3,n=n||"easeOutSine";var s=window.pageYOffset,a=0,r=Math.max(.1,Math.min(Math.abs(s-i)/t,.8)),o={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function e(){var t=(a+=1/60)/r,c=o[n](t);t<1?(window.requestAnimFrame(e),window.scrollTo(0,s+(i-s)*c)):window.scrollTo(0,i)}()}(i.getBoundingClientRect().top+window.pageYOffset-s,t,n)}var a=void 0,o=e.querySelectorAll('a[href^="#"]');for(a=0;a<o.length;a+=1)o[a].addEventListener("click",i)}(a,n,i),document.addEventListener("scroll",(function(){!function(e){var t=void 0,n=void 0,i=void 0,a=e.querySelectorAll('a[href^="#"]'),r=window.pageYOffset;for(t=0;t<a.length;t+=1)if(n=a[t],i=document.querySelector(n.getAttribute("href"))){var o=i.getBoundingClientRect().top+r-s;o<=r&&o+i.clientHeight>r?n.classList.add("active"):n.classList.remove("active")}}(a)}))}!function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){for(var e=document.querySelectorAll("a, button, label, input"),t=!1,n=0;n<e.length;n++){var i=e[n];"LABEL"!==i.tagName&&i.classList.add("focus"),i.addEventListener("mousedown",(function(){this.classList.remove("focus"),t=!0})),i.addEventListener("keydown",(function(e){"Tab"===e.key&&(t=!1)})),i.addEventListener("focus",(function(){t&&this.classList.remove("focus")})),i.addEventListener("blur",(function(){this.classList.add("focus")}))}}(),function(){if(document.querySelector("[data-move]")){var e=[window.matchMedia("(max-width: 61.94em)"),window.matchMedia("(max-width: 74.94em)")];for(i=0;i<e.length;i++)e[i].addListener(t.bind(null,i)),t(i);function t(t){var n=document.querySelectorAll('[data-media="'+t+'"]');if(n)for(var i=0;i<n.length;i++){var s=n[i],a=s.getAttribute("data-move"),r=document.querySelector('[data-start="'+a+'"]'),o=document.querySelector('[data-where="'+a+'"]');e[t].matches?s.classList.contains("done")||(o.appendChild(s),s.classList.add("done")):s.classList.contains("done")&&(r.appendChild(s),s.classList.remove("done"))}}}}(),function(){var e=document.querySelector(".burger"),t=document.querySelector(".navbar"),n=document.querySelector(".menu"),s=document.querySelector(".head"),a=document.querySelector(".overlay"),r=document.querySelector("body");function o(){e.classList.remove("active"),t.classList.remove("active"),s.classList.remove("active"),a.classList.remove("active"),r.classList.remove("lock")}e&&e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("active"),s.classList.toggle("active"),a.classList.toggle("active"),r.classList.toggle("lock")}));var c,l,d,u,v,f,m,h=n.querySelectorAll('a[href^="#"]');for(i=0;i<h.length;i+=1)h[i].addEventListener("click",o);l=0,d=0,u=0,v=0,f=0,m=0,(c=t).addEventListener("touchstart",(function(e){l=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,f=(new Date).getTime()}),{passive:!0}),c.addEventListener("touchend",(function(e){var t,n,i,s,a,r;u=e.changedTouches[0].screenX,v=e.changedTouches[0].screenY,m=(new Date).getTime(),t=u-l,n=v-d,i=Math.abs(t),s=Math.abs(n),r=s/(a=m-f),(i/a>1||r>1)&&(i>10&&i>s&&(t<0?c.dispatchEvent(new CustomEvent("onSwipeLeft")):c.dispatchEvent(new CustomEvent("onSwipeRight"))),s>10&&s>i&&(n<0?c.dispatchEvent(new CustomEvent("onSwipeUp")):c.dispatchEvent(new CustomEvent("onSwipeDown"))))})),t.addEventListener("onSwipeUp",o)}(),scrollMenu(".menu",".head"),function(){var e=document.querySelector(".head"),t=document.querySelector(".overlay");if(e){document.addEventListener("scroll",(function(){window.pageYOffset?(e.classList.add("scroll"),t&&t.classList.add("scroll")):(e.classList.remove("scroll"),t&&t.classList.remove("scroll"))})),document.addEventListener("scroll",(function(){i&&(i=!1,setTimeout((function(){var t=window.pageYOffset;t>100&&t>n?e.classList.add("hide"):e.classList.remove("hide"),n=t,i=!0}),200))}));var n=0,i=!0}}(),function(){var e=document.querySelectorAll("form");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("submit",u);var n=document.querySelectorAll("input[required]");if(n)for(t=0;t<n.length;t++)n[t].addEventListener("blur",s),n[t].addEventListener("focus",i);function i(){var e=this.parentElement.querySelector(".error");this.classList.remove("invalid"),e&&(e.classList.remove("active"),e.addEventListener("transitionend",(function(){this.classList.contains("active")||(this.innerHTML="")})))}function s(){var e=this.parentElement.querySelector(".error");return this.validity.valid?0:(this.classList.add("invalid"),e&&(e.classList.add("active"),e.innerHTML="ошибка / неправильный формат",(this.validity.valueMissing||""===this.value)&&(e.classList.add("active"),e.innerHTML="ошибка / заполните поле")),1)}var a,r=document.querySelector(".rating");if(r){var o=r.querySelectorAll("input");for(t=0;t<o.length;t++)o[t].addEventListener("focus",c),o[t].addEventListener("blur",l)}function c(){var e=r.nextElementSibling;r.classList.remove("invalid"),e&&(e.classList.remove("active"),e.addEventListener("transitionend",(function(){this.classList.contains("active")||(this.innerHTML="")})))}function l(){var e=r.nextElementSibling;return r.querySelector('[name="rating"]').checked?(r.classList.add("invalid"),e&&(e.classList.add("active"),e.innerHTML="ошибка / заполните поле"),1):0}function d(e){var t=this.hasAttribute("data-test");a=this.getAttribute("data-message");var n=this.querySelector(".rating"),i=this.querySelectorAll("input[required]"),r=this.querySelector('input[name="agree"]'),o=0;if(!r||r.checked){n&&(o+=l());for(var c=0;c<i.length;c++){var d=i[c];(o+=s.call(d))&&e.preventDefault()}}else e.preventDefault(),o++;return t&&0===o&&(e.preventDefault(),o++,this.reset(),v("test")),o}function u(e){e.preventDefault();var t=this;if(0===d.call(t,e)){this.classList.add("sending");var n=new FormData(this),i=new XMLHttpRequest;i.open("POST",this.getAttribute("action")),i.send(n),i.onloadend=function(){if(200==i.status){t.reset();var e=t.querySelector("select");e&&(e.options[0].selected="selected",e.dispatchEvent(new Event("change"))),t.classList.remove("sending"),v.call(t,i.response)}else alert("Ошибка"+this.status),t.classList.remove("sending")}}}function v(e){if(a){var t=document.querySelector("#dialog-"+a).querySelector("[data-message-text]");t&&(t.textContent=e),window.openDialog("dialog-"+a,this)}}}(),function(){var e=document.querySelectorAll("input");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("focus",(function(){this.parentElement.classList.add("focus")})),e[t].addEventListener("blur",(function(){this.parentElement.classList.remove("focus")}))}(),function(){var e=document.querySelectorAll("[data-select]");if(e){for(var t=0;t<e.length;t++)n(t);function n(t){var n,i=e[t],s=i.classList,a=i.parentElement,r=i.querySelector(".invalid"),o=i.querySelector("option:checked"),c=o.textContent,l=o.value,d=[];function u(e){if(s){for(var t="",n=0;n<s.length;n++)t=t+" "+s[n]+e;return t}}!function(e){var t,i=e.querySelectorAll("option"),s=o.getAttribute("class");t=r?'<div class="'+u("-custom__btn")+' invalid">'+c+"</div>":'<div class="'+u("-custom__btn")+s+'">'+c+"</div>";a.insertAdjacentHTML("beforeend",'<div class="'+u("-custom")+'" aria-hidden="true">'+t+'<div class="'+u("-custom__options")+'">'+function(e){if(e){for(var t="",i=0;i<e.length;i++){var s=e[i],a=s.value;if(!s.hasAttribute("hidden")){var r=s.getAttribute("class")||"";d.push(r)}if(s==o&&(n=i),""!=a){var c=s.text;t=t+'<div data-value="'+a+'" class="'+u("-custom__option")+" "+r+' ">'+c+"</div>"}}return t}}(i)+"</div></div></div>")}(i);var v=i.nextElementSibling,f=v.children[0],m=v.children[1],h=[].slice.call(m.children,0),L=h.length,g=-1;function y(){v.classList.remove("isActive"),a.classList.remove("isActive"),v.setAttribute("aria-hidden",!0),w(-1),document.removeEventListener("click",A),document.removeEventListener("keydown",S)}function w(e){var t=m.children[g],n=m.children[e];t&&t.classList.remove("isHover"),n&&n.classList.add("isHover"),g=e}function p(e,t,n){var i=l,s=m.querySelector(`[data-value="${i}"`),a=m.querySelector(`[data-value="${e}"`);s&&s.classList.remove("isActive"),a&&a.classList.add("isActive"),f.textContent=t,f.className=u("-custom__btn")+" "+d[n],l=e}function A(e){!v.contains(e.target)&&y()}function S(e){if(40===e.keyCode&&g<L-1){e.preventDefault(),w(g+1)}if(38===e.keyCode&&g>0&&(e.preventDefault(),w(g-1)),13===e.keyCode||32===e.keyCode){e.preventDefault();var t=m.children[g],n=t&&t.getAttribute("data-value");n&&(i.value=n,p(n,t.textContent)),y()}27===e.keyCode&&y()}l&&p(l,c,n),f.addEventListener("click",(function(e){!v.classList.contains("isActive")?function(){if(v.classList.add("isActive"),a.classList.add("isActive"),v.setAttribute("aria-hidden",!1),l){for(var e=0;e<h.length;e++){h[e].getAttribute("data-value")===l&&(n=e)}w(n)}document.addEventListener("click",A),document.addEventListener("keydown",S)}():y()})),i.addEventListener("change",(function(e){var t=e.target.value;if(t){var n=m.querySelector(`[data-value="${t}"]`),i=function(e){for(var t=0;e=e.previousElementSibling;t++);return t}(n);p(t,n.textContent,i)}else{f.textContent=c,f.classList.add("invalid"),l="";for(var s=0;s<h.length;s++)h[s].classList.remove("isActive")}}));for(t=0;t<h.length;t++)E(t);function E(e){var t=h[e];t.addEventListener("click",(function(t){var n=t.target.getAttribute("data-value");i.value=n,p(n,t.target.textContent,e),y()})),t.addEventListener("mouseenter",(function(t){w(e)}))}i.addEventListener("click",(function(){a.classList.toggle("oupen")})),i.addEventListener("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||a.classList.toggle("oupen")})),i.addEventListener("focus",(function(){a.classList.add("focus")})),i.addEventListener("blur",(function(){a.classList.remove("oupen"),a.classList.remove("focus")}))}}}();