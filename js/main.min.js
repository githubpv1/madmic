"use strict";function scrollMenu(e,t,n,i,a){var s,r=document.querySelector(e);if(t){var o=document.querySelector(t);s=o?o.clientHeight:0}else s=0;function c(e){window.setTimeout(e,1e3/60)}function l(e,t,n){var i=e||0;i+=2;t=t||2e3,n=n||"easeOutSine";var a=window.pageYOffset,s=0,r=Math.max(.1,Math.min(Math.abs(a-i)/t,.8)),o={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function e(){var t=(s+=1/60)/r,c=o[n](t);t<1?(window.requestAnimFrame(e),window.scrollTo(0,a+(i-a)*c)):window.scrollTo(0,i)}()}function d(e){e.preventDefault(),s=o?o.clientHeight:0;var t=document.querySelector(this.hash);if(t){var r=t.getBoundingClientRect(),c=r.top+window.pageYOffset;r.top>0&&n?l(c,i,a):l(c-s,i,a)}}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||c;for(var u=document.querySelectorAll('a[href^="#"]'),v=0;v<u.length;v+=1)u[v].addEventListener("click",d);document.addEventListener("scroll",(function(){!function(e){for(var t=e.querySelectorAll('a[href^="#"]'),n=window.pageYOffset,i=0;i<t.length;i+=1){var a=t[i],r=document.querySelector(a.getAttribute("href"));if(r){var o=r.getBoundingClientRect().top+n-s;o<=n&&o+r.clientHeight>n?a.classList.add("active"):a.classList.remove("active")}}}(r)}))}!function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){for(var e=document.querySelectorAll("a, button, label, input"),t=!1,n=0;n<e.length;n++){var i=e[n];"LABEL"!==i.tagName&&i.classList.add("focus"),i.addEventListener("mousedown",(function(){this.classList.remove("focus"),t=!0})),i.addEventListener("keydown",(function(e){"Tab"===e.key&&(t=!1)})),i.addEventListener("focus",(function(){t&&this.classList.remove("focus")})),i.addEventListener("blur",(function(){this.classList.add("focus")}))}}(),function(){if(document.querySelector("[data-move]"))for(var e=function(e){var n=document.querySelectorAll('[data-media="'+e+'"]');if(n)for(var i=0;i<n.length;i++){var a=n[i],s=a.getAttribute("data-move"),r=document.querySelector('[data-start="'+s+'"]'),o=document.querySelector('[data-where="'+s+'"]');t[e].matches?a.classList.contains("done")||(o.appendChild(a),a.classList.add("done")):a.classList.contains("done")&&(r.appendChild(a),a.classList.remove("done"))}},t=[window.matchMedia("(max-width: 61.94em)"),window.matchMedia("(max-width: 74.94em)")],n=0;n<t.length;n++)t[n].addListener(e.bind(null,n)),e(n)}(),function(){var e=document.querySelectorAll('img[loading="lazy"]'),t=document.querySelectorAll("source[data-srcset]");if("loading"in HTMLImageElement.prototype)e.forEach((function(e){e.src=e.dataset.src})),t.forEach((function(e){e.srcset=e.dataset.srcset}));else{var n={threshold:0,rootMargin:"0px 0px 500px 0px"},i=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.src=e.target.dataset.src,i.unobserve(e.target))}))}),n),a=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.srcset=e.target.dataset.srcset,a.unobserve(e.target))}))}),n);e.forEach((function(e){i.observe(e)})),t.forEach((function(e){a.observe(e)}))}}(),function(){var e=document.querySelector(".burger"),t=document.querySelector(".navbar"),n=document.querySelector(".menu"),i=document.querySelector(".head"),a=document.querySelector(".overlay"),s=document.querySelector("body");function r(){e.classList.remove("active"),t.classList.remove("active"),i.classList.remove("active"),a.classList.remove("active"),s.classList.remove("lock")}e&&e.addEventListener("click",(function(){this.classList.toggle("active"),t.classList.toggle("active"),i.classList.toggle("active"),a.classList.toggle("active"),s.classList.toggle("lock")}));for(var o=n.querySelectorAll('a[href^="#"]'),c=0;c<o.length;c+=1)o[c].addEventListener("click",r);if(i){document.addEventListener("scroll",(function(){window.pageYOffset?(i.classList.add("scroll"),a&&a.classList.add("scroll")):(i.classList.remove("scroll"),a&&a.classList.remove("scroll"))})),document.addEventListener("scroll",(function(){d&&(d=!1,setTimeout((function(){var e=window.pageYOffset,t=i.offsetHeight;i.classList.contains("active")||(e>t&&e>l?i.classList.add("hide"):i.classList.remove("hide")),l=e,d=!0}),200))}));var l=0,d=!0}}(),scrollMenu(".menu",".head",!0),function(){var e=document.querySelectorAll("[data-drop]");if(e)for(var t=0;t<e.length;t++){var n='<span class="visually-hidden">открыть подменю для“'+e[t].parentElement.querySelector("a").text+"”</span>";e[t].insertAdjacentHTML("beforeend",n),e[t].addEventListener("click",(function(e){this.classList.contains("active")?(this.classList.remove("active"),this.nextElementSibling.classList.remove("show"),this.setAttribute("aria-expanded","false"),this.parentElement.querySelector("a").setAttribute("aria-expanded","false")):(this.classList.add("active"),this.nextElementSibling.classList.add("show"),this.setAttribute("aria-expanded","true"),this.parentElement.querySelector("a").setAttribute("aria-expanded","true"))}))}}(),function(){var e=document.querySelectorAll("form");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("submit",o);var n,i=document.querySelectorAll("input[required]");if(i)for(t=0;t<i.length;t++)i[t].addEventListener("blur",s),i[t].addEventListener("focus",a);function a(){var e=this.parentElement.querySelector(".error");this.classList.remove("invalid"),e&&(e.classList.remove("active"),e.addEventListener("transitionend",(function(){this.classList.contains("active")||(this.innerHTML="")})))}function s(){var e=this.parentElement.querySelector(".error");return this.validity.valid?0:(this.classList.add("invalid"),e&&(e.classList.add("active"),e.innerHTML="ошибка / неправильный формат",(this.validity.valueMissing||""===this.value)&&(e.classList.add("active"),e.innerHTML="ошибка / заполните поле")),1)}function r(e){var t=this.hasAttribute("data-test");n=this.getAttribute("data-message");var i=this.querySelectorAll("input[required]"),a=this.querySelector('input[name="agree"]'),r=0;if(!a||a.checked)for(var o=0;o<i.length;o++){var l=i[o];(r+=s.call(l))&&e.preventDefault()}else e.preventDefault(),r++;return t&&0===r&&(e.preventDefault(),r++,this.reset(),c.call(this,"test")),r}function o(e){e.preventDefault();var t=this;if(0===r.call(t,e)){this.classList.add("sending");var n=new FormData(this),i=new XMLHttpRequest;i.open("POST",this.getAttribute("action")),i.send(n),i.onloadend=function(){if(200==i.status){t.reset();var e=t.querySelector("select");e&&(e.options[0].selected="selected",e.dispatchEvent(new Event("change"))),t.classList.remove("sending"),c.call(t,i.response)}else alert("Ошибка"+this.status),t.classList.remove("sending")}}}function c(e){if(n){var t=document.querySelector("#dialog-"+n),i=this.closest(".dialog-backdrop");if(t){var a=t.querySelector("[data-message-text]");a&&(a.textContent=e),i?window.replaceDialog("dialog-"+n):window.openDialog("dialog-"+n,this)}}}}(),function(){var e=document.querySelectorAll("input");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("focus",(function(){this.parentElement.classList.add("focus")})),e[t].addEventListener("blur",(function(){this.parentElement.classList.remove("focus")}))}(),function(){var e=document.querySelectorAll("[data-select]");if(e)for(var t=function(t){var n,i=e[t],a=i.classList,s=i.parentElement,r=i.querySelector(".invalid"),o=i.querySelector("option:checked"),c=o.textContent,l=o.value,d=[];function u(e){if(a){for(var t="",n=0;n<a.length;n++)t=t+" "+a[n]+e;return t}}!function(e){var t,i=e.querySelectorAll("option"),a=o.getAttribute("class");t=r?'<div class="'+u("-custom__btn")+' invalid">'+c+"</div>":'<div class="'+u("-custom__btn")+a+'">'+c+"</div>";s.insertAdjacentHTML("beforeend",'<div class="'+u("-custom")+'" aria-hidden="true">'+t+'<div class="'+u("-custom__options")+'">'+function(e){if(e){for(var t="",i=0;i<e.length;i++){var a=e[i],s=a.value;if(!a.hasAttribute("hidden")){var r=a.getAttribute("class")||"";d.push(r)}if(a==o&&(n=i),""!=s){var c=a.text;t=t+'<div data-value="'+s+'" class="'+u("-custom__option")+" "+r+' ">'+c+"</div>"}}return t}}(i)+"</div></div></div>")}(i);var v=i.nextElementSibling,f=v.children[0],m=v.children[1],h=[].slice.call(m.children,0),g=h.length,L=-1;function p(){v.classList.remove("isActive"),s.classList.remove("isActive"),v.setAttribute("aria-hidden",!0),A(-1),document.removeEventListener("click",w),document.removeEventListener("keydown",b)}function A(e){var t=m.children[L],n=m.children[e];t&&t.classList.remove("isHover"),n&&n.classList.add("isHover"),L=e}function y(e,t,n){var i=l,a=m.querySelector('[data-value="'.concat(i,'"')),s=m.querySelector('[data-value="'.concat(e,'"'));a&&a.classList.remove("isActive"),s&&s.classList.add("isActive"),f.textContent=t,f.className=u("-custom__btn")+" "+d[n],l=e}function w(e){!v.contains(e.target)&&p()}function b(e){if(40===e.keyCode&&L<g-1){e.preventDefault(),A(L+1)}if(38===e.keyCode&&L>0&&(e.preventDefault(),A(L-1)),13===e.keyCode||32===e.keyCode){e.preventDefault();var t=m.children[L],n=t&&t.getAttribute("data-value");n&&(i.value=n,y(n,t.textContent)),p()}27===e.keyCode&&p()}l&&y(l,c,n),f.addEventListener("click",(function(e){!v.classList.contains("isActive")?function(){if(v.classList.add("isActive"),s.classList.add("isActive"),v.setAttribute("aria-hidden",!1),l){for(var e=0;e<h.length;e++){h[e].getAttribute("data-value")===l&&(n=e)}A(n)}document.addEventListener("click",w),document.addEventListener("keydown",b)}():p()})),i.addEventListener("change",(function(e){var t=e.target.value;if(t){var n=m.querySelector('[data-value="'.concat(t,'"]')),i=function(e){for(var t=0;e=e.previousElementSibling;t++);return t}(n);y(t,n.textContent,i)}else{f.textContent=c,f.classList.add("invalid"),l="";for(var a=0;a<h.length;a++)h[a].classList.remove("isActive")}}));for(t=0;t<h.length;t++)S(t);function S(e){var t=h[e];t.addEventListener("click",(function(t){var n=t.target.getAttribute("data-value");i.value=n,y(n,t.target.textContent,e),p()})),t.addEventListener("mouseenter",(function(t){A(e)}))}i.addEventListener("click",(function(){s.classList.toggle("oupen")})),i.addEventListener("keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||s.classList.toggle("oupen")})),i.addEventListener("focus",(function(){s.classList.add("focus")})),i.addEventListener("blur",(function(){s.classList.remove("oupen"),s.classList.remove("focus")}))},n=0;n<e.length;n++)t(n)}(),function(){var e=document.querySelectorAll("[data-aos]"),t=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=window.pageYOffset;e.target.setAttribute("data-in",t),e.target.classList.add("aos-animate")}else{var n=window.pageYOffset;e.target.getAttribute("data-in")>n&&e.target.classList.remove("aos-animate")}}))}),{threshold:.5});e.forEach((function(e){t.observe(e)}))}();